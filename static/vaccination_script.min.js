$(document).ready((function(){var today;async function getdata(pin_code,date){$("#vaccine_table").css("visibility","hidden"),$("#preload_vaccine").css("display","block"),$("#preload_vaccine").css("visibility","visible");const url="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode="+pin_code+"&date="+date,response=await fetch(url);var data=await response.json();if($("#vaccine_table > tbody").empty(),0==data.sessions.length)$("#preload_vaccine").css("display","block"),$("#preload_vaccine").css("visibility","visible"),alert("No Data Available"),$("#preload_vaccine").css("display","none");else{for(const i in data.sessions){let temp=data.sessions[i],centre_id=temp.center_id,centre_name=temp.name,address=temp.address,district=temp.district_name,time_slot=temp.from.slice(0,-3)+" - "+temp.to.slice(0,-3),cls_vaccine;cls_vaccine="COVISHIELD"==temp.vaccine?"CS":"COVAXIN"==temp.vaccine?"CX":"SV";let vaccine_name=temp.vaccine,fee_type;fee_type=0!=temp.fee?"Rs. "+temp.fee:temp.fee_type;let pincode=temp.pincode,state=temp.state_name,capacity;var row="<tr><td>"+centre_name+" ("+centre_id+')</td><td class="vaccine_name '+cls_vaccine+'">'+vaccine_name+'<br><hr><small class="avl_doses">Doses: '+temp.available_capacity+"</small></td><td>"+time_slot+"</td><td>"+address+"</td><td>"+fee_type+"</td></tr>";$("#heading").text("Vaccination Centres - "+pincode+" | "+state),$("#vaccine_table").append(row)}$("#preload_vaccine").css("visibility","hidden"),$("#preload_vaccine").css("display","none"),$("#vaccine_table").css("visibility","visible")}}$("#pin_search").on("click",(function(){var pin_code=$("#pin_field").val();0==pin_code.length?alert("Enter a PIN."):pin_code.length<6||!new RegExp("^[0-9]+$").test(pin_code)?alert("Not a Valid PIN Code."):getdata(pin_code,today=moment(new Date).format("DD-MM-YYYY"))})),$("#pin_field").keypress((function(e){13==e.which&&$("#pin_search").click()}))}));